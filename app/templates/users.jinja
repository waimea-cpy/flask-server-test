{% extends 'base.jinja' %}


{% block title %}Users{% endblock %}


{% block content %}

    <section id="user">

        <article>

            <header>
                <h1>All the Users</h1>
            </header>

            {% if users %}

                <ul id="user-list">

                {% for user in users %}
                    <li
                        hx-get="/users/{{ user['id'] }}/details"
                        hx-target="#user-details"
                        hx-swap="outerHTML"
                        hx-push-url="/users/{{ user['id'] }}"
                        role="button"
                    >
                        {{ user['name'] }}
                    </li>
                {% endfor %}

                </ul>

            {% else %}

                <p>No users, yet!</p>

            {% endif %}

        </article>

        {% if user_id %}

            <article
                id="user-details"
                hx-get="/users/{{ user_id }}/details"
                hx-swap="outerHTML"
                hx-trigger="load"
            >
                Loading...
            </article>

        {% else %}

            <article id="user-details">
                Select a user...
            </article>

        {% endif %}

    </section>

{% endblock %}

